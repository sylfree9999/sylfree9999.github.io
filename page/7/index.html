<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta property="og:type" content="website">
<meta property="og:title" content="Drill Learning">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="Drill Learning">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Drill Learning">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/7/">





  <title>Drill Learning</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Drill Learning</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Spence</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/25/Func/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/Func/" itemprop="url">Func</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-25T23:07:57+08:00">
                2018-03-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>Func&lt;T1,T2,...,Tn,Tr&gt;</code> represents a function that takes <code>(T1, T2, ..., Tn)</code> and returns <code>Tr</code></p>
<p>E.g., you have function:</p>
<pre><code>double sqr(double s){
    return x*x;
}
</code></pre><p>You could save it as some kind of a function-variable:</p>
<pre><code>Func&lt;double, double&gt; f1 = sqr;
Func&lt;double, double&gt; f2 = x=&gt; x*x;
</code></pre><p>And then use exactly as you would use sqr:</p>
<pre><code>f1(2);
f2(f1(4))
</code></pre><p>.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/25/asp-net-identity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/asp-net-identity/" itemprop="url">ASP.NET Identity 原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-25T21:09:31+08:00">
                2018-03-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转自:<br><a href="http://www.cnblogs.com/jesse2013/p/aspnet-identity-claims-based-authentication-and-owin.html" target="_blank" rel="noopener">MVC5 - ASP.NET Identity登录原理 - Claims-based认证和OWIN</a></p>
<p>实现登录实际上只有简单的三行代码</p>
<pre><code>private IAuthenticationManager AuthenticationManager
{
    get{
        return HttpContext.GetOwinContext().Authentication;
    }
}

private async Task SignInAsync()
{
    //1.    利用ASP.NET Identity获取用户对象
    var user = await UserManager.FindAsync(&quot;UserName&quot;,&quot;Password&quot;);
    //2.    利用ASP.NET Identity获取Identity对象
    var identity = await UserManager.CreateIdentityAsync(user, DefaultAuthenticationTypes.ApplicationCookie);
    //3.    将上面拿到的identity对象登录
    AuthenticationManager.SignIn(new AuthenticationProperties(){
        IsPersistent = true
        }, identity);
}
</code></pre><p><code>CreateIdentityAsync</code>返回的是一个ClaimsIdentity，这又是什么？</p>
<h2 id="Claim-baised-Identity"><a href="#Claim-baised-Identity" class="headerlink" title="Claim-baised Identity"></a>Claim-baised Identity</h2><p>Claim-based 认证将Authentication 和 Authorization 与login 分开，将Authentication 和 Authorization 拆分为另外的web服务。</p>
<p>主要特点：</p>
<ul>
<li>将认证与授权拆分成独立的服务</li>
<li>服务调用者不需要关注如何去认证</li>
<li>如果用户成功登陆，认证服务会返回令牌</li>
<li>服务调用者从令牌中读取所需信息，诸如用户名以及角色信息等</li>
</ul>
<p>例如QQ登陆：</p>
<ol>
<li>用户到网站访问一个需要登录的页面</li>
<li>网站检测到用户没有登录，返回一个跳转到QQ的登录页响应（<strong>302</strong>指向QQ登录页面的地址并加上一个返回的链接页面，通常为returnUrl=)</li>
<li>用户被跳转到指定的QQ登录页</li>
<li>用户在QQ登录页面上输入用户名和密码，QQ会在自己的数据库中查询，一旦登陆成功，会返回一个跳转到我们站点的响应（<strong>302指向我们的网站页面</strong>)</li>
<li>用户被跳转到我们网站的一个检测登录的页面，我们可以拿到用户的身份信息，建立<strong>ClaimsPrincipal</strong>和<strong>ClaimsIdentity</strong>对象，生成<strong>cookie</strong>等</li>
<li>我们再把用户带到指定的页面，也就是returnUrl，那是用户登录前最后一次访问的页面</li>
</ol>
<img src="/2018/03/25/asp-net-identity/qq-claim-based-login.png">
<h2 id="ClaimsIdentity-ClaimsPrincipal"><a href="#ClaimsIdentity-ClaimsPrincipal" class="headerlink" title="ClaimsIdentity, ClaimsPrincipal"></a>ClaimsIdentity, ClaimsPrincipal</h2><p>ClaimsIdentity和ClaimsPrincipal继承了接口IIdentity和IPrincipal</p>
<p><strong>Identity</strong></p>
<pre><code class="c#">public interface IIdentity
{
    string AuthenticationType { get; }
    bool IsAUthenticated { get; }
    string Name { get; }
}
</code></pre>
<p><strong>IPrincipal</strong><br>IPrincipal代表了一个安全<strong>上下文</strong>，这个上下文对象包含了上面identity以及一些角色和组的信息，每一个线程都会关联一个Principal的对象，但是这个对象是<span style="background-color: #FFFF00">属性进程或者AppDomain级别的</span>.</p>
<p><a href="https://stackoverflow.com/a/27108829/4336416" target="_blank" rel="noopener">Ref: What is the idea behind IIdentity and IPrincipal in .NET
</a></p>
<p><code>IIdentity</code> is just used for the user’s authenticated identity, regardless of what roles they may have.</p>
<p><code>IPrincipal</code> is used to combine a user’s identity with the <code>authorized</code> roles they have in a given security context.</p>
<p>For example, you can use a third-party login provider, like Facebook or Google, to get the user’s identity, but you will not get a principal from those providers, as they don’t provide any roles. You can use your own application or a third-party role-based authorization provider to apply roles to , say, a <code>FacebookIdentity</code> or <code>GoogleIdentity</code>. A different application can expect a different principal, with its own roles , but still use the same identity as in another application</p>
<p>例子：</p>
<pre><code class="c#">public class HomeController : Controller
{
    [Authorize(Role = &quot;Users&quot;)]
    public ActionResult Index(){
        return View();
    }

    [Authorize(Roles = &quot;Managers&quot;)]
    public ActionResult Manager()
    {
        return View();
    }
}
</code></pre>
<p>登录, 在global.asax中添加了Application_AuthenticateRequest方法，<strong>就是每次MVC要对用户进行认证的时候都会进到这个方法里面</strong>，然后就神奇的把用户给登陆了。</p>
<pre><code class="c#">protected void Application_AuthenticateRequest()
{
    var claims = new List&lt;Claim&gt;();
    claims.Add(new Claim(ClaimTypes.Name, &quot;Zhang san&quot;));
    claims.Add(new Claim(ClaimTypes.Role, &quot;Users&quot;));
    var identity = new ClaimsIdentity(claims, &quot;MyClaimsLogin&quot;);

    ClaimsPrincipal principal = new ClaimsPrincipal(identity);
    HttpContext.Current.User = principal;
}
</code></pre>
<p>最后结论，我们讲了ClaimsIdentity什么的，讲了这么多和今天的主题有嘛关系？我们上面说ASPNET Identity登录有三句话，第一句话可以略过，第二句话就是我们上面讲的。</p>
<pre><code>var identity = await UserManager.CreateIdentityAsync(user, DefaultAuthenticationTypes.ApplicationCookie);
</code></pre><p>UserManager实际上只是为我们创建了一个ClaimsIdentity的对象，还是通过我们自己从数据库里面取出来的对象来创建的，它也就干了那么点事，一层小小的封装而已。不要被后面的DefaultAuthenticationTypes.ApplicationCookie吓到了，这里还没有和cookie扯上半点关系，这就是一个字符串常量，和我们上面自己定义的MyClaimsLogin是没有区别的。</p>
<p>到这里，我想算是把登录代码的第二句话讲完了，讲清楚了，那么我们来看看第三句话，也就是最后一句，其实它才是登录的核心，第二句只是创建了一个ClaimsIdentity的对象。</p>
<pre><code>private IAuthenticationManager AuthenticationManager
{
    get { return HttpContext.GetOwinContext().Authentication; }
}
AuthenticationManager.SignIn(new AuthenticationProperties() { IsPersistent = true }, identity);
</code></pre><p>IAuthenticationManager 在<code>Microsoft.Owin.Security</code>命名空间下，而这个接口是定义在Microsoft.Owin.dll中。</p>
<p>##Owin</p>
<p>OWIN目标是解耦服务器和应用，这里面的服务器主要是指web服务器，比如说IIS等，那么是如何做到的呢？</p>
<p><strong>解耦服务器与应用程序</strong><br>首先需要复习ASP.NET或者<span style="background-color: #FFFF00">IIS集成模式管道模型</span>，也就是说一个http请求在进入IIS之后（IIS7.0以上）一直到返回response这中间所经历的步骤。</p>
<img src="/2018/03/25/asp-net-identity/netpipe.png">
<img src="/2018/03/25/asp-net-identity/mvc-request-lifecycle.png">
<p><a href="https://www.codeproject.com/Articles/1028156/A-Detailed-Walkthrough-of-ASP-NET-MVC-Request-Life" target="_blank" rel="noopener">Ref: A Detailed walkthrough of ASP.NET MVC Request lifecycle</a></p>
<p>我们可以开发自己的HttpModule(比方说是MyFormsModules)去注册这些事件，然后做相应的处理。比方说<code>FormsAuthenticationModule</code>就是注册了<code>AuthenticateRequest</code>事件，然后在这里去检查用户的cookie信息来判断用户是否登录了，这就是一个典型的<strong>应用程序与服务器之间的交互</strong>问题，而这些事件最后是被IIS触发的,我们是通过web.config把我们自定义的http module注册进了IIS，但是<strong>如果我们的网站不运行在IIS了，我们自己开发的这些HTTP module还能用么？</strong></p>
<p>另一个，我们<code>Request</code>和<code>Response</code>都是封装在<code>HttpContext</code>里面的，而这些信息从IIS里面来，最后也是交给IIS，如果web服务器不是IIS，那么这些信息从哪里获取呢？</p>
<p>所以能够看出来，应用程序和服务器之间的耦合很大。我们不能够轻易换掉其中任何一个。</p>
<h2 id="OWIN如何做到解耦"><a href="#OWIN如何做到解耦" class="headerlink" title="OWIN如何做到解耦"></a>OWIN如何做到解耦</h2><p>它通过将服务器与应用程序之间的交互归纳为一个方法签名，称之为”应用程序代理(application delegate)”</p>
<pre><code>AppFunc = Func&lt;IDictionary&lt;string, object&gt;, Task&gt;;
</code></pre><p>在一个基于Owin的应用程序中的每一个组件都可以通过这样的一个代理来与服务器进行交互。 这们这里的交互其实是与服务器一起来处理http request，比如说ASP.NET管理模型中的那些事件，认证，授权，缓存等等，原先我们是通过自定义的http module，在里面拿到包含了request和response的HttpContext对象，进行处理。而现在我们能拿到的就是一个Dictionary。</p>
<p>可是别小看了这个Dictionary，我们所有的信息比如Application state, request state，server state等等这些信息全部存在这个数据结构中。这个dictionary会在Owin处理request的管道中进行传递，没错有了OWin之后，我们就不再是与ASP.NET 管道打交道了，而是OWin的管道，但是这个管道相对于ASP.NET 管道而言更灵活，更开放。</p>
<p>这个字典在OWin管道的各个组件中传输时，你可以任意的往里面添加或更改数据。 OWin默认为我们定义了以下的数据：<br><img src="/2018/03/25/asp-net-identity/owin-defaults.png"></p>
<p>有了这些数据以后，我们就不需要和.NET的那些对象打交道了，比如说ASP.NET MVC中的HttpContextBase, 以及WEB API  中的HttpRequestMessage和HttpResponseMessage。我们也不需要再考虑system.web 这个dll里的东西，我们只需要通过OWin就可以拿到我们想要的信息，做我们想做的事了。而OWin，它本身和web服务器或者IIS没有任何关系。</p>
<h2 id="Forms-Authentication"><a href="#Forms-Authentication" class="headerlink" title="Forms Authentication"></a>Forms Authentication</h2><p>在Forms认证中我们检测完用户名和密码之后，只需要调用小面的代码就会为我们创建用户cookie.</p>
<pre><code>FormsAuthentication.SetAuthCookie(&quot;Jesse&quot;, false);
</code></pre><p>然后FormsAuthenticationModule(<strong>这就是一个HTTP Module</strong>)会在ASP.NET管道的AuthenticateRequest阶段去检查是否有这个cookie，并把它转换成我们需要的Identity对象，这样的话我们就不需要每一次都让用户去输入用户名和密码了。所以登录过程如下：<br>1。    用户在没有登录的情况下访问了我们需要登录的页面</p>
<ol>
<li>FormsAuthenticationModule检查不到用户身份的cookie，没有生成identity对象，HttpContext.User.IsAuthenticated = false</li>
<li>在ASP.NET 管道 的Authroize 授权阶段，将用户跳转到登录页面</li>
<li>用户输入用户名和密码点击提交</li>
<li>我们检查用户名和密码，如果正确，就调用FormsAuthentication.SetAuthCookie方法生成登录cookie</li>
<li>用户可以正常访问我们需要登录的页面了</li>
<li>用户再次访问我们需要登录的页面</li>
<li>FormsAuthenticationModule检查到了用户身份的cookie，并生成identity对象，HttpContext.User.IsAuthenticated = true</li>
<li>ASP.NET 管道的 Authroize授权阶段，HttpContext.User.IsAuthenticated=true，可以正常浏览</li>
<li>7,8,9循环</li>
</ol>
<p><strong>Forms Authentication有以下不足</strong></p>
<ol>
<li>用户名直接暴露在cookie中，需要额外的手段去将cookie加密</li>
<li>不支持claim-based认证</li>
</ol>
<p>我们上面Forms的登录过程，对于OWin登录来说同样适用。我们在上面讲ASP.NET Identity登录第二句话的时候已经拿到了ClaimsIdentity，那么我们接下来要看的问题就是如何借助于IAuthenticationManager 去登录？ FormsAuthenticationModuel没有了，谁来负责检测cookie？您请接着往下看！</p>
<h2 id="MVC5默认的StartUp配置类"><a href="#MVC5默认的StartUp配置类" class="headerlink" title="MVC5默认的StartUp配置类"></a>MVC5默认的StartUp配置类</h2><p>VS除了为我们引用OWin相关dll，以及移除FormsAuthenticationModule以外，还为我们在App_Start文件夹里添加了一个Startup.Auth.cs的文件。</p>
<pre><code>public partial class Startup
{
    public void ConfigureAuth(IAppBuilder app)
    {
        app.UseCookieAuthentication(new CookieAuthenticationOptions
            {
                AuthenticationType = DefaultAuthenticationTypes.ApplicationCookie,
                LoginPath = new PathString(&quot;/Account/Login&quot;),
                CookieSecure = CookieSecureOption.Never,
            });
    }
}
</code></pre><p>UseCookieAuthentication是一个IAppBuilder的扩展方法，定义在Microsoft.Owin.Security.Cookies.dll中</p>
<pre><code>public static IAppBuilder UseCookieAuthentication(this IAppBuilder app, CookieAuthenticationOptions options)
{
    if(app == null)
    {
        throw new ArgumentNullException(&quot;app&quot;);
    }
    //添加OWIN middleware组件到OWIN管道
    app.Use(typeof(CookieAuthenticationMiddleware), app, options);
    //为前面添加的Middleware指定在IIS管道的哪个阶段执行
    app.UseStageMarker(PipelineStage.Authenticate);
    return app;
}
</code></pre><p>PipelineStage这个枚举定义与IIS管道里的那些顺序同，也是我们Http Module里面可以绑定的那些事件：</p>
<pre><code>public enum PipelineStage
{
    Authenticate = 0,
    PostAuthenticate = 1,
    Authorize = 2,
    PostAuthorize = 3,
    ResolveCache = 4,
    PostResolveCache = 5,
    MapHandler = 6,
    PostMapHandler = 7,
    AcquireState = 8,
    PostAcquireState = 9,
    PreHandlerExecute = 10,

}
</code></pre><p>也就是说我们上面注册的CookieAuthenticationMiddleware会在AuthenticaRequest 阶段执行。而它就是真正生成cookie以及读取cookie的那只背后的手。<br>顺便回顾一下如何在http module中为Authenticate绑定事件：</p>
<pre><code>public class MyModule : IHttpModule
{
    public void Init(HttpApplication context)
    {
        context.AuthenticateRequest += ctx_AuthRequest;
    }

    void vtx_AuthRequest(object sender, EventArgs e)
    {

    }
}
</code></pre><p>.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/25/c-contructor-chaining/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/c-contructor-chaining/" itemprop="url">c# constructor chaining</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-25T16:19:49+08:00">
                2018-03-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Consider this sample:</p>
<pre><code>class Student {
    string _studengType = &quot;&quot;;
    string _id = &quot;&quot;;
    string _fName = &quot;&quot;;
    string _lName = &quot;&quot;;

    public Student(string id) : this(id, &quot;&quot;, &quot;&quot;){

    }

    public Student(stirng id, string fName) : this(id, fName, &quot;&quot;){

    }

    public Student(string id, string fName, string lName){
        //Validation logic...
        _studentType = &quot;&lt;student_type&gt;&quot;;

        _id = id;
        _fName = fName;
        _lName = lName;
    }
}
</code></pre><p>通过this，调用第三个构造参数，可以复用id赋值的这个语句：<br><code>_id = id;</code></p>
<p>这样就不用每个构造函数都写这个逻辑，只需要用那个有最多参数构造函数即可</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/22/windows-authentication/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/22/windows-authentication/" itemprop="url">windows身份验证</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-22T11:11:57+08:00">
                2018-03-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="IPrincipal-amp-IIdentity"><a href="#IPrincipal-amp-IIdentity" class="headerlink" title="IPrincipal &amp; IIdentity"></a>IPrincipal &amp; IIdentity</h3><p>IPrincipal定义用户对象的基本功能<br>IIdentity定义标识对象的基本功能</p>
<h3 id="Windows-Authentication-过程"><a href="#Windows-Authentication-过程" class="headerlink" title="Windows Authentication 过程"></a>Windows Authentication 过程</h3><p>IIS传递给Asp.Net一个Windows Token, 用这个Token创建一个<code>WindowsIdentity</code>对象,然后根据<code>WindowsIdentity</code>创建<code>WindowsPrincipal</code>对象，之后将这个对象赋值给<code>HttpContext.User</code></p>
<pre><code>token = context.WorkerRequest.GetUserToken()
</code></pre><h3 id="Form-Authentication-过程"><a href="#Form-Authentication-过程" class="headerlink" title="Form Authentication 过程"></a>Form Authentication 过程</h3><p>通过用户名和密码创建一个包含<code>FormsAuthenticationTicket</code>的登陆<code>Cookie</code>, ASP.NET 解析登陆的<code>Cookie</code>然后创建一个<code>GenericPrincipal</code>对象,这个对象包含<code>FormsIdentity</code>,之后把这个Principal对象赋值给<code>HttpContext.User</code></p>
<p>REF:<br><a href="https://www.cnblogs.com/fish-li/archive/2012/05/07/2486840.html" target="_blank" rel="noopener">细说ASP.NET Windows身份认证</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/20/dns-forwarding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/20/dns-forwarding/" itemprop="url">DNS Resolution in Private Subnet with VPN to on-premises network</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-20T14:39:44+08:00">
                2018-03-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="DNS-Forwarding-Definition"><a href="#DNS-Forwarding-Definition" class="headerlink" title="DNS Forwarding Definition"></a>DNS Forwarding Definition</h3><p>DNS forwarding is the process by which particular sets of DNS queries are handled by a designated server, rather than being handled by the initial server contacted by the client. Usually, all DNS servers that handle address resolution within the network are configured to forward requests for addresses that are outside the network to a dedicated forwarder.<br><a href="http://social.dnsmadeeasy.com/blog/understanding-dns-forwarding/" target="_blank" rel="noopener">reference doc</a></p>
<h3 id="Issue"><a href="#Issue" class="headerlink" title="Issue"></a>Issue</h3><p>AWS EC2 instances in private subnet cannot resolve dns names.<br>But EC2 instances can communicate with corporate network through VPN, the corporate network is able to correctly resolve dns.</p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>Change private subnet dns server to corporate dns server.</p>
<ul>
<li><p>How to see current network dns server:</p>
<ul>
<li>windows: <code>ipconfig/all --&gt; dns server</code></li>
<li>linux:<br>  <code>cat /etc/resolv.conf</code> can show your DNS servers</li>
</ul>
</li>
<li><p>How to check if corporate dns is success or not:</p>
<ul>
<li>windows: <ul>
<li><code>nslookup</code></li>
<li>type <code>server 10.82.XX.XX</code>, where <code>10.82.XX.XX</code> is your corporate dns server ip address</li>
<li>type any dns name, like baidu.com, bing.com, and press <code>Enter</code></li>
<li>check if the ip address is returned:<img src="/2018/03/20/dns-forwarding/nslookup.png"></li>
</ul>
</li>
<li>linux(centos):<ul>
<li>normally <code>dig baidu.com</code></li>
<li>check if ip address is returned:<img src="/2018/03/20/dns-forwarding/dig.png"></li>
<li>resolve use specific DNS server, like Google’s<pre><code class="linux">dig @8.8.8.8 baidu.com
</code></pre>
</li>
<li>If you are just looking for IP address, you can add <code>+short</code> at the end<pre><code class="linux">dig @8.8.8.8 baidu.com +short
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/19/dns-cname/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/19/dns-cname/" itemprop="url">DNS CNAME ANAME</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-19T16:40:46+08:00">
                2018-03-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <img src="/2018/03/19/dns-cname/dns_cname.png">
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/sql-id-increment-jump/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/sql-id-increment-jump/" itemprop="url">SQL identity column increment suddenly jumps</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T16:29:45+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SQL SERVER 2016</p>
<img src="/2018/03/15/sql-id-increment-jump/sql_id_increment.jpg">
<p>SQL Server 2012 now uses a cache size of 1,000 when allocating IDENTITY values in an int column and restarting the service can “lose” unused values (The cache size is 10,000 for bigint/numeric).</p>
<p>Workarounds:</p>
<ul>
<li>You can use a <code>SEQUENCE</code> instead of an identity column and define a smaller cache size for example and use <code>NEXT VALUE FOR</code> in a column default</li>
</ul>
<p>e.g:</p>
<pre><code class="sql"> CREATE SEQUENCE Service_Ticket_Seq AS INTEGER
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 100
 CYCLE; 
</code></pre>
<p>We can put a <code>SEQUENCE</code> in the <code>DEFAULT</code> clause of the DDL for table:</p>
<pre><code class="sql">CREATE TABLE Service_Tickets
(ticket_nbr INTEGER DEFAULT NEXT VALUE FOR Service_Ticket_Seq,
 department_code CHAR(1) NOT NULL
 CHECK (department_code IN (&#39;M&#39;, &#39;F&#39;))); 
</code></pre>
<p>Now play with code:</p>
<pre><code class="sql">INSERT INTO Service_Tickets (department_code)
VALUES (&#39;M&#39;);

SELECT * FROM Service_Tickets;
</code></pre>
<p>Now we get:</p>
<table>
<thead>
<tr>
<th style="text-align:left">ticket_nbr</th>
<th style="text-align:left">department_code</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">M</td>
</tr>
</tbody>
</table>
<p>Let’s re-do the Meats and Fish tables.</p>
<pre><code>CREATE TABLE Meats
(ticket_seq INTEGER DEFAULT NEXT VALUE FOR Service_Ticket_Seq 
       PRIMARY KEY,
 meat_type VARCHAR(15) NOT NULL);

CREATE TABLE Fish
(ticket_seq INTEGER DEFAULT NEXT VALUE FOR Service_Ticket_Seq 
       PRIMARY KEY,
 fish_type VARCHAR(15) NOT NULL);
</code></pre><p>Now try:</p>
<pre><code>INSERT INTO Meats (meat_type) VALUES (&#39;pig&#39;);
INSERT INTO Fish (fish_type) VALUES (&#39;squid&#39;);
SELECT * FROM Meats;
SELECT * FROM Fish;
</code></pre><p>We get:</p>
<table>
<thead>
<tr>
<th style="text-align:left">ticket_nbr</th>
<th style="text-align:left">department_code</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">pig</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">squid</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Apply trace flag 272 which makes the <code>IDENTITY</code> allocation logged as in previous versions.</p>
<ul>
<li>Run <strong>SQL Server Configuration Manager</strong></li>
<li><p>Select <strong>SQL SERVER SERVICES</strong>, right-click <code>SQL Server</code> and select <code>Properties</code>, select <code>Startup Parameters</code>, type <code>-T272</code> , Add, Apply, close and restart.</p>
<img src="/2018/03/15/sql-id-increment-jump/sql_server_config.jpg">
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/python-list-tuple/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/python-list-tuple/" itemprop="url">Python List and Tuple, Dict and Set</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T11:20:11+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Python 3</strong></p>
<p><strong>list与tuple都是有序列表</strong></p>
<h3 id="LIST"><a href="#LIST" class="headerlink" title="LIST"></a>LIST</h3><p>是一种有序的集合，可以随时添加或删除元素</p>
<pre><code class="python">p = [&#39;asp&#39;, &#39;php&#39;]

s = [&#39;python&#39;, &#39;java&#39;, p, &#39;angular&#39;]
</code></pre>
<p>如果想要拿到php，可以写成<code>s[2][1]</code>,因此s可以看作为二维数组</p>
<p>常用方法：</p>
<pre><code class="python">&gt;&gt;&gt; len(classmates) ***获取元素个数***
&gt;&gt;&gt; s[-2] ***获取倒数第二个元素***
&gt;&gt;&gt; s.append(&#39;vue&#39;) ***追加元素到末尾***
&gt;&gt;&gt; s.insert(2,&#39;vue&#39;) ***把元素插入到索引号为2的位置，索引从0开始***
&gt;&gt;&gt; s.pop() ***删除list末尾元素***
&gt;&gt;&gt; s.pop(1) ***删除索引位置为i的元素***
&gt;&gt;&gt; s[1] = &#39;vue&#39; ***把某个索引位置的元素替换成另一个元素***
</code></pre>
<h3 id="TUPLE"><a href="#TUPLE" class="headerlink" title="TUPLE"></a>TUPLE</h3><p><strong>tuple一旦初始化就不能修改，这里的不能修改指的是tuple中的每个元素的指向不变</strong></p>
<pre><code class="python">classmates=(&#39;Jane&#39;, &#39;Anna&#39;, &#39;Ed&#39;)
</code></pre>
<p>现在这个classmates就无法更改，没有append(),insert()可以调用</p>
<p>但是有时候却能看见给tuple添加元素的操作：</p>
<pre><code class="python">def two(**s):
    print(&#39;s is &#39;, s)
    t = ()
    for i in s.values():
        t += (i,) #这里tuple竟然可以添加元素
    print(t)

dic = dict(
    d1=1,
    d2=2,
    d3=3
)

if __name__ == &#39;__main__&#39;:
    two(**dic) #输出为tuple(1, 2, 3)
</code></pre>
<p><span style="color: red"><strong>当执行上面的操作的时，其实stucture is changed. 即你每新增一个新的，其实是一个新的Object.</strong></span><br>比如：</p>
<pre><code class="python">&gt;&gt;&gt; tup = (1, 2, 3)
&gt;&gt;&gt; id(tup)
140153476307856
&gt;&gt;&gt; tup += (4, 5)
&gt;&gt;&gt; id(tup)
140153479825840
</code></pre>
<p>而如果是list的话：</p>
<pre><code class="python">&gt;&gt;&gt; lst = [1, 2, 3]
&gt;&gt;&gt; id(lst)
140153476247704
&gt;&gt;&gt; lst += [4, 5]
&gt;&gt;&gt; id(lst)
140153476247704
</code></pre>
<p><a href="https://drillearningss.wordpress.com/2018/01/04/python-list-and-tuple/" target="_blank" rel="noopener">Ref link</a></p>
<p>如果想要定义一个只有一个参数的tuple,<strong>不能写成</strong></p>
<pre><code class="python">&gt;&gt;&gt; t = (1)

&gt;&gt;&gt; t
</code></pre>
<p><strong>因为这个时候t是数字1，（）这个时候当作数学括号来解析</strong><br>需要写成</p>
<pre><code class="python">&gt;&gt;&gt; t = (1, )

&gt;&gt;&gt; t

(1, )
</code></pre>
<h3 id="DICT"><a href="#DICT" class="headerlink" title="DICT"></a>DICT</h3><p>使用键值对存储, 且dict的<strong>key是不可变对象</strong></p>
<pre><code class="python">&gt;&gt;&gt; d = {&#39;Michael&#39;: 95, &#39;Bob&#39;: 75, &#39;Tracy&#39;: 85}
&gt;&gt;&gt; d[&#39;Michael&#39;]
95
</code></pre>
<p>为避免key不存在报错：</p>
<pre><code class="python">&gt;&gt;&gt; &#39;Thomas&#39; in d
False

&gt;&gt;&gt; d.get(&#39;Thomas&#39;) //返回None
&gt;&gt;&gt; d.get(&#39;Thomas&#39;, -1)

</code></pre>
<p><span style="color: red">注意，dict的添加就是直接赋值就好了，例如<br><code>d[&#39;newkey&#39;]=&#39;newvalue&#39;</code></span></p>
<h3 id="SET"><a href="#SET" class="headerlink" title="SET"></a>SET</h3><p>Set也是一组Key的集合，但不存储value，且Key也不能重复。</p>
<pre><code class="python">&gt;&gt;&gt; s = set([1,2,3])
&gt;&gt;&gt; s
{1,2,3}
</code></pre>
<p><strong>注意传入的参数<code>[1,2,3]</code>是一个list，而显示的<code>{1,2,3}</code>只是告诉你这个set内部有1，2，3这3个元素，显示的顺序也不表示set是有序的</strong></p>
<p>重复元素再set中会自动被过滤掉</p>
<pre><code class="python">&gt;&gt;&gt; s = set([1,1,2,2,3,3,])
&gt;&gt;&gt; s
{1,2,3}
&gt;&gt;&gt; s.add(4)
&gt;&gt;&gt; s
{1,2,3,4}
&gt;&gt;&gt; s.remove(4)
&gt;&gt;&gt; s
{1,2,3}
</code></pre>
<p><strong>SET可以看成无序且无重复元素的集合，因此两个set可以做数学意义上的交集、并集等操作</strong></p>
<pre><code class="python">&gt;&gt;&gt; s1 = set([1,2,3])
&gt;&gt;&gt; s2 = set([2,3,4])
&gt;&gt;&gt; s1 &amp; s2
{2,3}
&gt;&gt;&gt; s1 | s2
{1,2,3,4}
</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/python-parameter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/python-parameter/" itemprop="url">Python 可变参数，关键字参数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T11:13:36+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>可变参数*args</p>
<ul>
<li>变的是个数</li>
<li>在函数调用的时候自动组装为一个tuple</li>
<li>传入的时候直接传值即可</li>
</ul>
</li>
<li><p>关键字参数**kwargs</p>
<ul>
<li>在函数调用的时候自动组装为一个dictionary</li>
<li>传入的时候必须是以含参数名的形式传递</li>
</ul>
</li>
</ul>
<pre><code class="python">def func(a, b, c=0, *args, **kwargs):
    print (&#39;a=&#39;, a, &#39;b=&#39;, b, &#39;c=&#39;, c, &#39;args=&#39;, args, &#39;kwargs=&#39;, kwargs)

if __name__ == &#39;__main__&#39;:
    func(1,2,3,spence,shao,name=&#39;spence&#39;,gender=&#39;male&#39;)

&gt;&gt;&gt;a=1,b=2,c=3,args=(spence,shao),kwargs={&#39;name&#39;:&#39;spence&#39;,&#39;gender&#39;:&#39;male&#39;}
</code></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/15/html-auto-add-parameter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/15/html-auto-add-parameter/" itemprop="url">HTML GET请求自动添加参数列表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-15T11:09:03+08:00">
                2018-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code class="html">&lt;form action=&quot;/action&quot; method=&quot;get&quot;&gt;
&lt;textarea name=&quot;message&quot;&gt;&lt;/textarea&gt;
        &lt;input name=&quot;author&quot;&gt;
        &lt;!-- /?message=输入的内容 --&gt;
        &lt;button type=&quot;submit&quot;&gt;GET 提交&lt;/button&gt;
&lt;/form&gt;
&lt;form action=&quot;/&quot; method=&quot;post&quot;&gt;
        &lt;textarea name=&quot;message&quot;&gt;&lt;/textarea&gt;
        &lt;button type=&quot;submit&quot;&gt;POST 提交&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<p>对于GET请求，GET提交之后，浏览器会在<code>host:port[action]?author=xx&amp;message=xx</code>, 例如<br><code>localhost:3000/action?author=spencer&amp;message=test</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Spence">
          <p class="site-author-name" itemprop="name">Spence</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">74</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Spence</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
