<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Ubuntu,Shiny,">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="Install Python 12345678910sudo apt-get updatesudo apt-get -y upgrade#type python3 check if python3 is installedsudo apt-get install -y python3-pipsudo apt-get install -y build-essential libssl-dev li">
<meta name="keywords" content="Ubuntu,Shiny">
<meta property="og:type" content="article">
<meta property="og:title" content="Install R Shiny Server in Ubuntu">
<meta property="og:url" content="http://yoursite.com/2018/05/09/ubuntu-install-shiny-server/index.html">
<meta property="og:site_name" content="Drill Learning">
<meta property="og:description" content="Install Python 12345678910sudo apt-get updatesudo apt-get -y upgrade#type python3 check if python3 is installedsudo apt-get install -y python3-pipsudo apt-get install -y build-essential libssl-dev li">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-04-08T08:43:47.854Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Install R Shiny Server in Ubuntu">
<meta name="twitter:description" content="Install Python 12345678910sudo apt-get updatesudo apt-get -y upgrade#type python3 check if python3 is installedsudo apt-get install -y python3-pipsudo apt-get install -y build-essential libssl-dev li">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/05/09/ubuntu-install-shiny-server/">





  <title>Install R Shiny Server in Ubuntu | Drill Learning</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Drill Learning</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Spence</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/09/ubuntu-install-shiny-server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Spence">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Drill Learning">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Install R Shiny Server in Ubuntu</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-09T16:36:38+08:00">
                2018-05-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ul>
<li><p>Install Python</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="ROUTEROS"><figure class="iseeu highlight /routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> update</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> -y upgrade</span><br><span class="line"><span class="comment">#type python3 check if python3 is installed</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install -y python3-pip</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install -y build-essential libssl-dev libffi-dev python3-dev</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install -y liblzma-dev  libblas-dev gfortran</span><br><span class="line">nano ~/.bashrc</span><br><span class="line"><span class="comment">#type on the top of the file</span></span><br><span class="line">alias <span class="attribute">python</span>=python3</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Install Java</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get <span class="keyword">install</span> -y <span class="keyword">default</span>-jre</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> -y <span class="keyword">default</span>-jdk</span><br><span class="line">sudo <span class="keyword">add</span>-apt-repository ppa:webupd8team/<span class="keyword">java</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">update</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> <span class="keyword">oracle</span>-java8-installer</span><br><span class="line"></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">wget <span class="keyword">http</span>://download.oracle.com/otn-pub/<span class="keyword">java</span>/jdk/<span class="number">8</span>u171-b11/<span class="number">512</span>cd62ec5174c3487ac17c61aaa89e8/jdk<span class="number">-8</span>u171-linux-x64.tar.gz?AuthParam=<span class="number">1530518840</span>_9e538c86b030b30acb4afc0f47a60454</span><br><span class="line"></span><br><span class="line">mkdir /apps/</span><br><span class="line">tar -zxvf jdk<span class="number">-8</span>u171-linux-x64.tar.gz -C /apps/</span><br><span class="line">vi /etc/profile</span><br><span class="line"><span class="keyword">export</span> JAVA_HOME=/apps/jdk1<span class="number">.8</span><span class="number">.0</span>_171</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">PATH</span>=$<span class="keyword">PATH</span>:$JAVA_HOME/<span class="keyword">bin</span></span><br><span class="line"><span class="keyword">source</span> /etc/profile</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Setting JAVA_HOME</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives <span class="params">--config</span> java</span><br><span class="line">sudo nano <span class="string">/etc/environment</span></span><br><span class="line">JAVA_HOME=<span class="string">"/usr/lib/jvm/java-8-oracle"</span></span><br><span class="line">source <span class="string">/etc/environment</span></span><br><span class="line"><span class="keyword">echo</span> $JAVA_HOME</span><br></pre></td></tr></table></figure>
</li>
<li><p>Install R from source and X11</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo apt-get <span class="keyword">install</span> -y libcurl4-openssl-dev</span><br><span class="line">#<span class="keyword">install</span> x11</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> -y xvfb xauth xfonts-base</span><br><span class="line">#Xvfb :<span class="number">0</span> -ac -screen <span class="number">0</span> <span class="number">1960</span>x2000x24 &amp;</span><br><span class="line">#<span class="keyword">then</span> <span class="keyword">set</span> Sys.setenv(<span class="string">"DISPLAY"</span>=<span class="string">":0"</span>) <span class="keyword">on</span> top <span class="keyword">of</span> ui.R</span><br><span class="line"></span><br><span class="line">#<span class="keyword">install</span> cairo</span><br><span class="line">sudo apt-<span class="keyword">get</span> -y <span class="keyword">build</span>-dep cairo</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> -y libcairo2-dev</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h4 id="If-you-choose-to-use-cairo-put-options-bitmapType-39-cairo-39-on-top-of-the-server-R-or-put-it-in-the-Rprofile-so-that-all-sessions-will-read-this-configuration-https-stackoverflow-com-questions-17243648-cant-display-png"><a href="#If-you-choose-to-use-cairo-put-options-bitmapType-39-cairo-39-on-top-of-the-server-R-or-put-it-in-the-Rprofile-so-that-all-sessions-will-read-this-configuration-https-stackoverflow-com-questions-17243648-cant-display-png" class="headerlink" title="If you choose to use cairo, put options(bitmapType=&#39;cairo&#39;) on top of the server.R or put it in the Rprofile so that all sessions will read this configuration. [https://stackoverflow.com/questions/17243648/cant-display-png]"></a>If you choose to use cairo, put <code>options(bitmapType=&#39;cairo&#39;)</code> on top of the server.R or put it in the Rprofile so that all sessions will read this configuration. [<a href="https://stackoverflow.com/questions/17243648/cant-display-png]" target="_blank" rel="noopener">https://stackoverflow.com/questions/17243648/cant-display-png]</a></h4><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SMALI"><figure class="iseeu highlight /smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libbz2-dev</span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/base/R-3/R-3.5.0.tar.gz</span><br><span class="line">tar xzvf R-3.5.0.tar.gz</span><br><span class="line">cd R-3.5.0</span><br><span class="line">sudo -s</span><br><span class="line"><span class="keyword">.</span>/configure --with-readline=no --with-libtiff --with-libjpeg --with-libpng --with-x --with-cairo</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br></pre></td></tr></table></figure></div>
<p>Check capabilities:<br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="R"><figure class="iseeu highlight /r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">R</span><br><span class="line">capabilities()</span><br></pre></td></tr></table></figure></div></p>
<ul>
<li>Rprofile<br>At startup, R will source the <strong>RProfile.site</strong> file.<br>Then look for a .Rprofile file to source in the current working directory.<br>Not found, it will look for on in ~/.Rprofile.</li>
</ul>
<p>[<a href="https://www.r-bloggers.com/fun-with-rprofile-and-customizing-r-startup/]" target="_blank" rel="noopener">https://www.r-bloggers.com/fun-with-rprofile-and-customizing-r-startup/]</a><br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="APPLESCRIPT"><figure class="iseeu highlight /applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In <span class="keyword">the</span> absence <span class="keyword">of</span> any command-line flags being used, when R starts up, <span class="keyword">it</span> will “source” (<span class="built_in">run</span>) <span class="keyword">the</span> site-wide R startup configuration <span class="built_in">file</span>/<span class="keyword">script</span> <span class="keyword">if</span> <span class="keyword">it</span> exists. In a fresh install <span class="keyword">of</span> R, this will rarely exist, <span class="keyword">but</span> <span class="keyword">if</span> <span class="keyword">it</span> <span class="keyword">does</span>, <span class="keyword">it</span> will usually be <span class="keyword">in</span> ‘/Library/Frameworks/R.framework/Resources/etc/’ <span class="keyword">on</span> OS X, ‘C:Program FilesRR-***etc’ <span class="keyword">on</span> Windows, <span class="keyword">or</span> ‘/etc/R/’ <span class="keyword">on</span> Debian. Next, <span class="keyword">it</span> will check <span class="keyword">for</span> a .Rprofile hidden <span class="built_in">file</span> <span class="keyword">in</span> <span class="keyword">the</span> current working directory (<span class="keyword">the</span> directory <span class="keyword">where</span> R <span class="keyword">is</span> started <span class="keyword">on</span> <span class="keyword">the</span> command-line) <span class="keyword">to</span> source. Failing <span class="keyword">that</span>, <span class="keyword">it</span> will check your home directory <span class="keyword">for</span> <span class="keyword">the</span> .Rprofile hidden <span class="built_in">file</span>.</span><br></pre></td></tr></table></figure></div></p>
<p>There are two special functions you can put:</p>
<pre><code>* **.First()** will run at the start of the R session
* **.Last()** will run at the end of the session
</code></pre><p>You can check if you have a site-wide R configuration script by running<br><span style="color: red">Create RProfile.site under R.home/etc/</span></p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="R"><figure class="iseeu highlight /r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R.home(component = <span class="string">"home"</span>)</span><br></pre></td></tr></table></figure></div>
<p>in the R console and then checking for the presence of Rprofile.site in that directory. The presence of the user-defined R configuration can be checked for in the directory of whichever path<br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="R"><figure class="iseeu highlight /r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.expand(<span class="string">"~"</span>)</span><br></pre></td></tr></table></figure></div></p>
<p>Sample Rprofile.site file<br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Things you might want to change</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(papersize=<span class="string">"a4"</span>) </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(editor=<span class="string">"notepad"</span>) </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(pager=<span class="string">"internal"</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> R interactive prompt </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(prompt=<span class="string">"&gt; "</span>)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(<span class="built_in">continue</span>=<span class="string">"+ "</span>) </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> to prefer Compiled HTML <span class="built_in">help</span> </span></span><br><span class="line">options(chmhelp=TRUE) </span><br><span class="line"><span class="meta">#</span><span class="bash"> to prefer HTML <span class="built_in">help</span> </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> options(htmlhelp=TRUE) </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> General options </span></span><br><span class="line">options(tab.width = 2) </span><br><span class="line">options(width = 130)</span><br><span class="line">options(graphics.record=TRUE) </span><br><span class="line">options(bitmapType='cairo')</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">.First &lt;- <span class="function"><span class="title">function</span></span>()&#123;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="comment">#library(Hmisc)</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="comment">#library(R2HTML)</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cat(<span class="string">"\nWelcome at"</span>, date(), <span class="string">"\n"</span>) </span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">.Last &lt;- <span class="function"><span class="title">function</span></span>()&#123; </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> cat(<span class="string">"\nGoodbye at "</span>, date(), <span class="string">"\n"</span>)</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#125;</span></span><br></pre></td></tr></table></figure></div></p>
<ul>
<li><p>In order to use shinyjs, install V8</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="CRYSTAL"><figure class="iseeu highlight /crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/<span class="class"><span class="keyword">lib</span>/<span class="title">R</span></span></span><br><span class="line">sudo mkdir site-library</span><br><span class="line">sudo chmod o+w site-library</span><br><span class="line">sudo apt-get install -y libv8-<span class="number">3.14</span>-dev</span><br><span class="line">R</span><br><span class="line">chooseCRANmirror(<span class="number">81</span>)</span><br><span class="line">install.packges(<span class="string">"V8"</span>)</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Install R Packages for Shiny</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="NSIS"><figure class="iseeu highlight /nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y libxml2-dev</span><br><span class="line"></span><br><span class="line">sudo su - -c <span class="string">"R -e \"</span>install.packages(c(<span class="string">'shiny'</span>,<span class="string">'shinydashboard'</span>,<span class="string">'shinyjs'</span>,<span class="string">'quanteda'</span>, <span class="string">'dygraphs'</span>, <span class="string">'rhandsontable'</span>,<span class="string">'keras'</span>,<span class="string">'DEoptim'</span>,<span class="string">'RSQLite'</span>,<span class="string">'reshape2'</span>,<span class="string">'mlbench'</span>,<span class="string">'future'</span>,<span class="string">'promises'</span>,<span class="string">'shinyWidgets'</span>,<span class="string">'devtools'</span>,<span class="string">'Hmisc'</span>,<span class="string">'XML'</span>,<span class="string">'DT'</span>,<span class="string">'V8'</span>,<span class="string">'shinyBS'</span>), repos=<span class="string">'https://mirrors.tuna.tsinghua.edu.cn/CRAN/'</span>)\<span class="string">""</span></span><br><span class="line"></span><br><span class="line">install.packages(c(<span class="string">'shiny'</span>,<span class="string">'shinydashboard'</span>,<span class="string">'shinyjs'</span>,<span class="string">'quanteda'</span>, <span class="string">'dygraphs'</span>, <span class="string">'rhandsontable'</span>,<span class="string">'keras'</span>,<span class="string">'DEoptim'</span>,<span class="string">'RSQLite'</span>,<span class="string">'reshape2'</span>,<span class="string">'mlbench'</span>,<span class="string">'future'</span>,<span class="string">'promises'</span>,<span class="string">'shinyWidgets'</span>,<span class="string">'devtools'</span>,<span class="string">'Hmisc'</span>,<span class="string">'XML'</span>,<span class="string">'DT'</span>,<span class="string">'V8'</span>,<span class="string">'shinyBS'</span>),repos=<span class="string">'https://mirrors.tuna.tsinghua.edu.cn/CRAN/'</span>)</span><br><span class="line"></span><br><span class="line">sudo apt-get install unzip</span><br><span class="line"></span><br><span class="line">R</span><br><span class="line">library(devtools)</span><br><span class="line">options(unzip=<span class="string">"internal"</span>)</span><br><span class="line"><span class="class">devtools::install_github</span>(<span class="string">'madlogos/recharts'</span>)</span><br><span class="line"></span><br><span class="line">install.packages(<span class="string">'rredis'</span>)</span><br><span class="line"></span><br><span class="line">sudo su - -c <span class="string">"R -e \"</span><span class="class">devtools::install_github</span>(<span class="string">'lchiffon/REmap'</span>)\<span class="string">""</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Install keras(h5py),tensorflow</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="STYLUS"><figure class="iseeu highlight /stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y python-virtualenv</span><br><span class="line">sudo pip3 install tensorflow -<span class="selector-tag">i</span> https:<span class="comment">//pypi.tuna.tsinghua.edu.cn/simple</span></span><br><span class="line">sudo pip3 install keras -<span class="selector-tag">i</span> https:<span class="comment">//pypi.tuna.tsinghua.edu.cn/simple</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Install Shiny Server, check this page[<a href="https://www.rstudio.com/products/shiny/download-server/]" target="_blank" rel="noopener">https://www.rstudio.com/products/shiny/download-server/]</a> for the newest package</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="VIM"><figure class="iseeu highlight /vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install gdebi-core</span><br><span class="line">wget http<span class="variable">s:</span>//download3.rstudio.org/ubuntu-<span class="number">14.04</span>/x86_64/shiny-server-<span class="number">1.5</span>.<span class="number">7.907</span>-amd64.<span class="keyword">deb</span></span><br><span class="line">sudo gdebi shiny-server-<span class="number">1.5</span>.<span class="number">7.907</span>-amd64.<span class="keyword">deb</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Shiny Server Management</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="VBSCRIPT"><figure class="iseeu highlight /vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">start shiny-<span class="built_in">server</span> / sudo systemctl start shiny-<span class="built_in">server</span>.service</span><br><span class="line"><span class="keyword">stop</span> shiny-<span class="built_in">server</span>  / sudo systemctl <span class="keyword">stop</span> shiny-<span class="built_in">server</span>.service</span><br><span class="line">restart shiny-<span class="built_in">server</span> / sudo systemctl restart shiny-<span class="built_in">server</span>.service</span><br><span class="line">status shiny-<span class="built_in">server</span>  / sudo systemctl status shiny-<span class="built_in">server</span>.service</span><br><span class="line">sudo reload shiny-<span class="built_in">server</span> /sudo systemctl reload shiny-<span class="built_in">server</span>.service</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>Shiny config file</p>
<ul>
<li>conf: <code>/etc/shiny-server/shiny-server.conf</code></li>
<li>site: <code>/srv/shiny-server/</code></li>
<li>log:  <code>/var/log/shiny-server.log</code> or <code>/var/log/shiny-server/*.log</code></li>
</ul>
</li>
</ul>
<h2 id="Deploy-App"><a href="#Deploy-App" class="headerlink" title="Deploy App"></a>Deploy App</h2><p>[<a href="https://www.linode.com/docs/development/r/how-to-deploy-rshiny-server-on-ubuntu-and-debian/#deploy-your-app]" target="_blank" rel="noopener">https://www.linode.com/docs/development/r/how-to-deploy-rshiny-server-on-ubuntu-and-debian/#deploy-your-app]</a></p>
<p>By default, Shiny Server uses /srv/shiny-server/ as its site directory. Any Shiny apps in this directory will be served automatically.</p>
<p>Copy the example app directory into /srv/shiny-server/:<br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="AWK"><figure class="iseeu highlight /awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp -r Example<span class="regexp">/ /</span>srv<span class="regexp">/shiny-server/</span></span><br></pre></td></tr></table></figure></div></p>
<p>In a web browser, navigate to the app’s address. Replace example.com with your Linode’s public IP address or FQDN:<br><div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="STYLUS"><figure class="iseeu highlight /stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">example<span class="selector-class">.com</span>:<span class="number">3838</span>/Example</span><br></pre></td></tr></table></figure></div></p>
<p>Create a symbolic link to the actual file system<br><span style="color:red">sudo ln -s /opt/shiny-server/actually_file_location /srv/shiny-server/symbolic_file</span></p>
<h2 id="Configure-Shiny-Server"><a href="#Configure-Shiny-Server" class="headerlink" title="Configure Shiny Server"></a>Configure Shiny Server</h2><p>Shiny Server’s configuration file is stored at <code>/etc/shiny-server/shiny-server.conf</code>:</p>
<div class="highlight-wrap" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true" data-rel="ROUTEROS"><figure class="iseeu highlight /routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Instruct Shiny Server to run applications as the user "shiny"</span></span><br><span class="line">run_as shiny;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define a server that listens on port 3838</span></span><br><span class="line">server &#123;</span><br><span class="line">  listen 3838;</span><br><span class="line"></span><br><span class="line">  # Define a location at the base URL</span><br><span class="line">  location / &#123;</span><br><span class="line"></span><br><span class="line">    # Host the directory of Shiny Apps stored <span class="keyword">in</span> this directory</span><br><span class="line">    site_dir /srv/shiny-server;</span><br><span class="line"></span><br><span class="line">    # Log all Shiny output <span class="keyword">to</span> files <span class="keyword">in</span> this directory</span><br><span class="line">    log_dir /var/log/shiny-server;</span><br><span class="line"></span><br><span class="line">    # When a<span class="built_in"> user </span>visits the base URL rather than a particular application,</span><br><span class="line">    # an index of the applications available <span class="keyword">in</span> this directory will be shown.</span><br><span class="line">    directory_index on;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Ubuntu/" rel="tag"># Ubuntu</a>
          
            <a href="/tags/Shiny/" rel="tag"># Shiny</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/18/r-concepts/" rel="next" title="R Concepts">
                <i class="fa fa-chevron-left"></i> R Concepts
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/14/concurrent-async-concept/" rel="prev" title="同步、异步、回调、阻塞、非阻塞、线程、进程、协程">
                同步、异步、回调、阻塞、非阻塞、线程、进程、协程 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Spence">
          <p class="site-author-name" itemprop="name">Spence</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">78</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">41</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#If-you-choose-to-use-cairo-put-options-bitmapType-39-cairo-39-on-top-of-the-server-R-or-put-it-in-the-Rprofile-so-that-all-sessions-will-read-this-configuration-https-stackoverflow-com-questions-17243648-cant-display-png"><span class="nav-number">1.</span> <span class="nav-text">If you choose to use cairo, put options(bitmapType=&#39;cairo&#39;) on top of the server.R or put it in the Rprofile so that all sessions will read this configuration. [https://stackoverflow.com/questions/17243648/cant-display-png]</span></a></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#Deploy-App"><span class="nav-number"></span> <span class="nav-text">Deploy App</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configure-Shiny-Server"><span class="nav-number"></span> <span class="nav-text">Configure Shiny Server</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Spence</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
